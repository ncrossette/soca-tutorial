geometry: &geom
  geom_grid_file: ./soca_gridspec.nc
  mom6_input_nml: ./mom_input.nml
  fields metadata: ./fields_metadata.yml

background:
  read_from_file: 1
  basename: ./bkg/
  date: &date 2022-02-15T12:00:00Z
  ocn_filename: ocn.bkg.2019080112.nc
  state variables:
  - sea_water_potential_temperature
  - sea_surface_height_above_geoid

background error:
  covariance model: SABER
  saber central block:
    saber block name: diffusion
    calibration:
      normalization:
        iterations: 100       #< in the real world you'll want to use 1e4 or so
      groups:
      - horizontal:
          as gaussian: true
          model file:
            date: *date
            basename: ./
            ocn_filename: scales.nc
          model variable: sea_surface_height_above_geoid
          # NOTE, that name ^ is a hack, it's not really ssh. The model
          # interface just requires an existing 2D variable name
        write:
          filepath: ./diffusion_hz
      - vertical:
          as gaussian: true
          model file:
            date: *date
            basename: ./
            ocn_filename: scales.nc
          model variable: sea_water_potential_temperature
          # NOTE, that name ^ is a hack, it's not really ssh. The model
          # interface just requires an existing 3D variable name
        write:
          filepath: ./diffusion_vt